$(document).ready(function(){checkCookieAndSetFont()});function checkCookieAndSetFont(){var a={};if($.cookie("ty_option")==null){changeFont("small")}else{var b=$.cookie("ty_option");b=b.split("&");for(i=0;i<b.length;i++){b[i]=b[i].split("=");a[b[i][0]]=b[i][1]}setTimeout(function(){changeFont(a["fontsize"])},100)}}function changeFont(a){if(a.indexOf("small")!=-1){$(".fontText-xs").css("font-size","12px");$(".fontText-sm").css("font-size","14px");$(".fontText-md").css("font-size","16px");$(".fontText-xmd").css("font-size","18px");$(".fontText-lg").css("font-size","20px");$("#fontsm").removeClass("unactive");$("#fontsm").addClass("fontActive");$("#fontmd,#fontlg").removeClass("fontActive");$("#fontmd,#fontlg").addClass("unactive");$.cookie("ty_option",$.param({fontsize:"small"}),{expires:7,path:"/",secure:true})}else{if(a.indexOf("medium")!=-1){$(".fontText-xs").css("font-size","13px");$(".fontText-sm").css("font-size","16px");$(".fontText-md").css("font-size","18px");$(".fontText-xmd").css("font-size","20px");$(".fontText-lg").css("font-size","22px");$("#fontmd").removeClass("unactive");$("#fontmd").addClass("fontActive");$("#fontsm,#fontlg").removeClass("fontActive");$("#fontsm,#fontlg").addClass("unactive");$.cookie("ty_option",$.param({fontsize:"medium"}),{expires:7,path:"/",secure:true})}else{if(a.indexOf("large")!=-1){$(".fontText-xs").css("font-size","14px");$(".fontText-sm").css("font-size","18px");$(".fontText-md").css("font-size","20px");$(".fontText-xmd").css("font-size","22px");$(".fontText-lg").css("font-size","24px");$("#fontlg").removeClass("unactive");$("#fontlg").addClass("fontActive");$("#fontsm,#fontmd").removeClass("fontActive");$("#fontsm,#fontmd").addClass("unactive");$.cookie("ty_option",$.param({fontsize:"large"}),{expires:7,path:"/",secure:true})}}}}function showAlert(title,message,func){if(!title){title="訊息"}BootstrapDialog.show({title:title,message:message,onhidden:function(){eval(func)},buttons:[{label:"我知道了",cssClass:"btn-primary",hotkey:13,action:function(dialog){dialog.close()}}]})}function removeHTMLTag(a){var b=new RegExp(/<[^>]*>/g);var c=new RegExp(/&nbsp;/ig);a=a.replace(b,"");a=a.replace(c,"");return a}function removeAllSign(a){var b=new RegExp(/[\ |\~|\`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\-|\_|\+|\=|\||\\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|\。|\，|\！|\@|\＃|\＄|\％|\&|\＊|\（|\）|\——|\－|\＝|\『|\』|\｜|\：|\“|\《|\》|\？]/g);return a.replace(b,"")}function showTraceModal(){$("#traceModal").modal({backdrop:true});$("#traceModal").on("hide.bs.modal",function(){cleanTraceModal()})}function cleanTraceModal(){$("#petitionSubject").html("");$("#petitionContent").html("");$("#acceptedTime").html("");$("#showCaseId").html("");$("#caseStatus").html("");$("#fakeName").html("");$("#telNo").html("");$("#unitName").html("");$("#replayFiles").html("");$("#closeReplayTitle").html("");$("#closeReplay").html("");$("#replayTitle1").html("");$("#replayTitleContent1").html("");$("#replayTitle2").html("");$("#replayTitleContent2").html("");$("#replayTitle3").html("");$("#replayTitleContent3").html("");$("#identifiedCode").val("");$("#claimBtn").hide();$("#_attachmentFiles").html("");$("#_replayFiles").html("")}function checkTwID(id){var city=new Array(1,10,19,28,37,46,55,64,39,73,82,2,11,20,48,29,38,47,56,65,74,83,21,3,12,30);id=id.toUpperCase();if(id.search(/^[A-Z](1|2)\d{8}$/i)==-1){return false}else{id=id.split("");var total=city[id[0].charCodeAt(0)-65];for(var i=1;i<=8;i++){total+=eval(id[i])*(9-i)}total+=eval(id[9]);return((total%10==0))}}function isEmail(a){var b=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return b.test(a)}function easeScroll(a,b){$("html, body").animate({scrollTop:(b.offset().top-50)},1250,"easeInOutExpo")}function transformCateText(a){if(a==="SC001"){return"交通違規"}else{if(a==="SC017"){return"路面不平"}else{if(a==="SC024"){return"路燈故障"}else{if(a==="SC011"){return"道路佔用"}else{if(a==="SC045"){return"髒亂查報"}else{if(a==="SC031"){return"交通號誌損壞"}else{if(a==="SC032"){return"交通標誌損壞"}else{if(a==="SC028"){return"公園綠地養護"}else{if(a==="SC002"){return"交通罰單申訴"}else{if(a==="SC037"){return"公車客運申訴"}}}}}}}}}}}function encode_utf8(a){if(!a.length>0){return""}return unescape(encodeURIComponent(a))}function decode_utf8(a){if(!a.length>0){return""}return decodeURIComponent(escape(a))}function openBlockUI(b,a){$.blockUI({message:'<i class="fa fa-spinner fa-pulse fa-1x fa-fw"></i><span class="sr-only">Loading...</span>     '+b,css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:0.5,color:"#fff",bindEvents:true,constrainTabKey:true}});if(a){setTimeout($.unblockUI,a)}}function closeBlockUI(){$.unblockUI()}var isIE=function(c){var a=document.createElement("b");a.innerHTML="<!--[if IE "+c+"]><i></i><![endif]-->";return a.getElementsByTagName("i").length===1};var isLowerIE=function(c){var a=document.createElement("b");a.innerHTML="<!--[if lte IE "+c+"]><i></i><![endif]-->";return a.getElementsByTagName("i").length===1};var isGreaterIE=function(c){var a=document.createElement("b");a.innerHTML="<!--[if gte IE "+c+"]><i></i><![endif]-->";return a.getElementsByTagName("i").length===1};var isNotIE=function(){var a=document.createElement("b");a.innerHTML="<!--[if !IE]> --><i></i><!-- <![endif]-->";return a.getElementsByTagName("i").length===1};$.extend({replaceTag:function(b,f,e){var d=$(b);var a,c=$(f).clone();if(e){newTag=c[0];newTag.className=b.className;$.extend(newTag.classList,b.classList);$.extend(newTag.attributes,b.attributes)}d.wrapAll(c);d.contents().unwrap();return this}});$.fn.extend({replaceTag:function(b,a){return this.each(function(){jQuery.replaceTag(this,b,a)})}});