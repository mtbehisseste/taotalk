openBlockUI("請稍候",500);var newsTable;$(document).ready(function(){$("#searchBtn").click(function(){var a=$("#newsTable").DataTable();a.page("first").draw("page")});$("#search_input").keypress(function(a){if(a.keyCode==13){reloadTable()}})});function reloadTable(){newsTable.ajax.reload()}$(document).ready(function(){listbox_setup();newsTable=$("#newsTable").DataTable({responsive:true,"sPaginationType":$(window).width()>=992?"full_numbers":"listbox","processing":true,"serverSide":true,"bServerSide":true,"ajax":{"url":"/servlet/NewsService","type":"POST","data":{f:"getNewsList",showAll:false,searchWord:function a(){if($("#search_input").val()==""||$("#search_input").val().length===0){return"kFILTER_SHOW_ALL"}else{return $("#search_input").val()}}}},"initComplete":function(c,b){},"fnDrawCallback":function(b){checkCookieAndSetFont();setTimeout(function(){$(".untabable").attr("tabindex",-1)},300)},"columns":[{"data":"important"},{"data":"startDate"},{"data":"title"},{"data":"publishUnitName"}],"columnDefs":[{"targets":0,"className":"dt-center untabable","render":function(e,c,b,f){var d="";if(e==="Y"){d+='<img src="/WebResource/images/icon-star.png"/>'}else{d+=" "}return d},"width":"18px","orderable":false},{"targets":1,"width":"70px","orderable":true},{"targets":2,"render":function(e,c,b,f){var d="";d+='<a class="fontText-md" href="/servlet/NewsService?f=getNewsContent&s='+b.seqNo+'">'+e+"</a>";return d},"orderable":false},{"targets":3,"width":"100px","orderable":false}],"lengthMenu":[[10],[10]],"order":[[1,"desc"]],"bPaginate":true,"bLengthChange":true,"bFilter":false,"bInfo":true,"bAutoWidth":true,"language":{"lengthMenu":"每頁 _MENU_ 筆資料","zeroRecords":"目前尚無公告訊息！","info":"目前位於_PAGE_/_PAGES_頁","search":"搜尋關鍵字:","infoEmpty":"","processing":"搜尋中","infoFiltered":"(filtered from _MAX_ total records)","paginate":{"first":"<<","last":">>","previous":"<","next":">"}},"dom":"rtip"});if($(window).width()<768){newsTable.column("3").visible(false)}else{newsTable.column("3").visible(true)}$(window).resize(function(){if($(window).width()<768){newsTable.column("3").visible(false)}else{newsTable.column("3").visible(true)}})});function listbox_setup(){$.fn.dataTableExt.oPagination.listbox={"fnInit":function(g,c,e){var h=document.createElement("select");var d=document.createElement("span");var a=document.createElement("span");var f=document.createElement("span");var b=document.createElement("span");f.appendChild(document.createTextNode(g.oLanguage.oPaginate.sPrevious));b.appendChild(document.createTextNode(g.oLanguage.oPaginate.sNext));f.className="paginate_button previous";b.className="paginate_button next";a.className="paginate_of";d.className="paginate_page";if(g.sTableId!==""){c.setAttribute("id",g.sTableId+"_paginate")}h.style.display="inline";d.innerHTML="Page ";c.appendChild(f);c.appendChild(h);c.appendChild(a);c.appendChild(b);$(h).change(function(j){if(this.value===""||this.value.match(/[^0-9]/)){return}var i=g._iDisplayLength*(this.value-1);if(i>g.fnRecordsDisplay()){g._iDisplayStart=(Math.ceil((g.fnRecordsDisplay()-1)/g._iDisplayLength)-1)*g._iDisplayLength;e(g);return}g._iDisplayStart=i;e(g)});$("span",c).bind("mousedown",function(){return false});$("span",c).bind("selectstart",function(){return false});$(f).click(function(){g.oApi._fnPageChange(g,"previous");e(g)});$(b).click(function(){g.oApi._fnPageChange(g,"next");e(g)})},"fnUpdate":function(a,k){if(!a.aanFeatures.p){return}var b=Math.ceil((a.fnRecordsDisplay())/a._iDisplayLength);var o=Math.ceil(a._iDisplayStart/a._iDisplayLength)+1;var g=a.aanFeatures.p;for(var f=0,c=g.length;f<c;f++){var l=g[f].getElementsByTagName("span");var h=g[f].getElementsByTagName("select");var d=h[0];if(d.options.length!=b){d.options.length=0;for(var e=0;e<b;e++){var n=document.createElement("option");n.text=e+1;n.value=e+1;try{d.add(n,null)}catch(m){d.add(n)}}l[1].innerHTML="&nbsp;of&nbsp;"+b}d.value=o}}}};